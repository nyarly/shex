(schema
 (shapes
  (
   (<http://a.example/S1>
    (shape
     (eachOf
      (tripleConstraint <http://a.example/p1>)
      (tripleConstraint <http://a.example/p2>
       (shapeRef <http://a.example/S2>)
       (min 0)
       (max 1)) )) )
   (<http://a.example/S2>
    (shape (tripleConstraint <http://a.example/p3> (shapeRef <http://a.example/S3>))))
   (<http://a.example/S3>
    (shape (tripleConstraint <http://a.example/p4> (shapeRef <http://a.example/S1>))))
   (<http://a.example/S4> (shape (tripleConstraint <http://a.example/p5>)))) ))

